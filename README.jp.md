 PictureStoreKeeper
==========

「PictureStoreKeeper」は、画像をフォルダ間で移動させるだけのシンプルな画像整理ツールです。

## 開発者向け文書

### ビルド方法

次がインストールされていることを確認して下さい。

* Go言語環境 (`go build` コマンドが使えること)
* Node.js環境 (`npm` コマンドが使えること)
* yarn (一応無くてもビルドは出来ます)

#### フロントエンドのビルドの準備

```shell
$ cd Frontend/
$ npm install
# もしくは
$ yarn install
```

#### バックエンドのビルドの準備

```shell
$ go get github.com/labstack/echo/...
```

#### ビルド

yarnが入っていない場合は、`build.sh` 中の次の行を変更して下さい。

* `yarn build` -> `npm run build`

```shell
$ ./build.sh
```

スクリプトが終了すると、`build-release` というディレクトリが出来ます。

#### 起動

```shell
$ cd build-release/
$ ./picture-store-keeper-backend
# localhost:1323/ にアクセスして下さい
```

## TODO

- [x] 未整理・整理ディレクトリの概念を統合する *v1.0*
  - データ構造とAPIエンドポイント構造の変更(バック)
  - 最初に転送元ディレクトリを選ぶようにし、それ以外のディレクトリを転送先にする(フロント)
- [x] 画像破棄 *v1.0*
  - 元に戻す時に便利なように、破棄する時にどのディレクトリから移動されたかのメタデータ(ラベル名)を記録する
- [ ] ショートカットキーで移動 *v1.0*
  - どこに移動されるかが分かりやすいように、1回押しで移動先がハイライト、もう1回同じキーを押して移動、という挙動にする
- [ ] ギャラリー機能 *v1.0*
  - 画像一覧はページングをサポート
  - 画像詳細ではとりあえず次をサポート
    - 画像一覧に戻る(常に右上にオーバーレイで表示)
    - 画像の移動(右下に移動メニューバー表示ボタン、それを押すと転送先一覧が出てくる形ようにする)
- [ ] 破棄予定画像を元に戻す *v1.0*
  - 破棄予定画像を整理ディレクトリへ移動させるエンドポイントの作成(バック)
  - 破棄予定画像をギャラリーで見られるようにする(フロント)
  - 破棄予定画像を整理ディレクトリを選択して移動できるようにする(フロント)
    - 元に戻す時は、基本は登録されている全ディレクトリを選択可能で、メタデータのラベル名が完全一致する転送先がハイライトされるなどの補助機能を提供する
- [ ] ユニットテスト作成 *v1.0*
  - 全APIの挙動を保証するUTの作成(バック)
- [ ] UIを整える *v1.0*
  - サムネイル画像がコンテナいっぱいに表示されるようにする
  - たくさんの転送先があるとボタンが横に突破してしまうのを修正する
  - レスポンシブ対応(スマートフォン的なデバイスからの使用をサポート)
  - 各所荒削り(転送元アルバム選択画面とか)なのでその辺りの調整
  - 必要な箇所へのアニメーションの適用
- [ ] 複数人での画像整理のサポート
  - ファイルリストのストリーミング的な配信を行えるようにする(バック)
  - ストリーミング的にファイルリストを受信するように変更する(フロント)
- [ ] i18n
- [ ] ポート番号を環境変数等から注入するように変更する
- [ ] Dockerize
- [ ] 名前が被っている画像ファイルへの対応
- [ ] メイン転送先/サブ転送先を設定可能にする
  - 登録した全てのディレクトリが転送先として表示されていると、数が増えてきた時にボタンがやたら増えて見にくいので、よく使う転送先とそうではない転送先を設定できるようにする
  - サブ転送先の方はプルダウンから選択できるようにする